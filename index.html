<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dla Olci â¤ï¸</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Outfit:wght@200;300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --purple-deep: #be185d;
            --purple-mid: #e11d48;
            --purple-light: #fb7185;
            --purple-pale: #fda4af;
            --purple-glow: #ff6b8a;
            --violet-dark: #881337;
            --violet-deeper: #4c0519;
            --bg-dark: #0a0a0f;
            --bg-card: #151520;
            --bg-card-light: #1e1e2e;
            --bg-surface: #111118;
            --text-white: #fef2f2;
            --text-light: #e8cdd4;
            --text-muted: #9a7a84;
            --text-dim: #6b5560;
            --accent-pink: #f472b6;
            --accent-magenta: #ec4899;
            --white: #ffffff;
            --shadow-purple: rgba(225, 29, 72, 0.2);
            --shadow-deep: rgba(10, 10, 15, 0.6);
            --glow-purple: rgba(225, 29, 72, 0.45);
            --glow-pink: rgba(244, 114, 182, 0.3);
            --border-subtle: rgba(225, 29, 72, 0.15);
            --border-glow: rgba(225, 29, 72, 0.35);
        }
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; overflow-x: hidden; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg-dark); color: var(--text-white); overflow-x: hidden; -webkit-font-smoothing: antialiased; }

        .floating-hearts-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: hidden; }
        .floating-heart { position: absolute; opacity: 0; animation: floatUp linear infinite; filter: blur(0.3px); will-change: transform, opacity; }
        @keyframes floatUp {
            0% { transform: translateY(100vh) rotate(0deg) scale(0.5); opacity: 0; }
            10% { opacity: 0.6; }
            90% { opacity: 0.15; }
            100% { transform: translateY(-10vh) rotate(360deg) scale(1.2); opacity: 0; }
        }
        .sparkle { position: absolute; width: 3px; height: 3px; border-radius: 50%; background: var(--purple-glow); animation: sparkleFloat linear infinite; opacity: 0; will-change: transform, opacity; }
        @keyframes sparkleFloat {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            20% { opacity: 0.8; }
            80% { opacity: 0.3; }
            100% { transform: translateY(-5vh) scale(1); opacity: 0; }
        }

        .screen { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; z-index: 1; padding: 2rem 1.5rem; }

        #screen-question { background: radial-gradient(ellipse at 50% 30%, rgba(139, 92, 246, 0.08) 0%, var(--bg-dark) 70%); text-align: center; overflow: hidden; }
        .question-content { position: relative; z-index: 2; }
        .question-decoration { font-size: 3rem; margin-bottom: 1rem; animation: pulse 2s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }
        .question-title { font-family: 'Dancing Script', cursive; font-size: clamp(2.2rem, 7vw, 4.5rem); font-weight: 700; color: var(--purple-light); line-height: 1.3; margin-bottom: 0.5rem; text-shadow: 0 2px 30px var(--glow-purple), 0 0 60px rgba(139, 92, 246, 0.2); }
        .question-subtitle { font-family: 'Cormorant Garamond', serif; font-size: clamp(1rem, 3vw, 1.4rem); font-weight: 300; font-style: italic; color: var(--text-muted); margin-bottom: 3rem; }
        .buttons-container { display: flex; flex-direction: column; align-items: center; gap: 1.2rem; }
        .btn-yes { font-family: 'Outfit', sans-serif; font-size: 1.3rem; font-weight: 500; letter-spacing: 0.05em; padding: 1.1rem 3.5rem; border: none; border-radius: 60px; background: linear-gradient(135deg, var(--purple-mid), var(--accent-magenta)); color: var(--white); cursor: pointer; position: relative; overflow: hidden; transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); box-shadow: 0 4px 25px var(--shadow-purple), 0 0 50px rgba(139, 92, 246, 0.15), inset 0 1px 0 rgba(255,255,255,0.15); }
        .btn-yes::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: left 0.6s; }
        .btn-yes:hover { transform: scale(1.08) translateY(-2px); box-shadow: 0 8px 40px var(--glow-purple), 0 0 80px rgba(139, 92, 246, 0.25); }
        .btn-yes:hover::before { left: 100%; }
        .btn-no { font-family: 'Outfit', sans-serif; font-size: 0.85rem; font-weight: 300; padding: 0.6rem 1.8rem; border: 1px solid var(--border-subtle); border-radius: 40px; background: transparent; color: var(--text-muted); cursor: pointer; transition: all 0.3s ease; }
        .btn-no:hover { opacity: 0.6; }

        .heart-explosion { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; overflow: hidden; }
        .explosion-heart { position: absolute; font-size: 2rem; animation: explodeHeart 2.5s ease-out forwards; }
        @keyframes explodeHeart { 0% { transform: translate(0,0) scale(0) rotate(0deg); opacity: 1; } 60% { opacity: 1; } 100% { transform: translate(var(--tx), var(--ty)) scale(1.5) rotate(var(--rot)); opacity: 0; } }
        .merge-heart { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); font-size: 12rem; z-index: 10000; animation: mergeIn 1.5s 1.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; filter: drop-shadow(0 0 80px var(--glow-purple)); }
        @keyframes mergeIn { 0% { transform: translate(-50%, -50%) scale(0) rotate(-20deg); opacity: 0; } 60% { transform: translate(-50%, -50%) scale(1.2) rotate(5deg); opacity: 1; } 100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1; } }

        #screen-album { background: var(--bg-dark); color: var(--text-white); padding: 2rem 1rem; gap: 1.5rem; }
        .album-header-label { font-family: 'Outfit', sans-serif; font-size: 0.7rem; font-weight: 500; letter-spacing: 0.25em; text-transform: uppercase; color: var(--purple-light); display: flex; align-items: center; gap: 0.4rem; }
        .label-heart { font-size: 0.6rem; }
        .album-title { font-family: 'Dancing Script', cursive; font-size: clamp(1.8rem, 5vw, 2.8rem); font-weight: 600; color: var(--text-white); text-align: center; text-shadow: 0 2px 20px rgba(139, 92, 246, 0.3); }

        .music-player-yt { width: 100%; max-width: 420px; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.4); }

        .carousel-container { width: 100%; max-width: 380px; position: relative; }
        .carousel-viewport { width: 100%; aspect-ratio: 3/4; border-radius: 16px; overflow: hidden; position: relative; border: 2px solid var(--border-glow); box-shadow: 0 0 30px rgba(139, 92, 246, 0.15), 0 20px 60px rgba(0, 0, 0, 0.4); }
        .carousel-slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 0.8s ease, transform 0.8s ease; transform: scale(1.05); }
        .carousel-slide.active { opacity: 1; transform: scale(1); }
        .carousel-slide img { width: 100%; height: 100%; object-fit: cover; }
        .carousel-placeholder { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.5rem; background: linear-gradient(135deg, var(--bg-card) 0%, var(--violet-dark) 100%); }
        .carousel-placeholder-icon { font-size: 3rem; opacity: 0.5; }
        .carousel-placeholder-text { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1rem; color: var(--text-muted); opacity: 0.7; }
        .carousel-date { position: absolute; bottom: 12px; left: 12px; font-family: 'Outfit', sans-serif; font-size: 0.75rem; font-weight: 500; color: var(--purple-pale); background: rgba(15, 10, 26, 0.7); backdrop-filter: blur(8px); border: 1px solid var(--border-glow); border-radius: 8px; padding: 0.25rem 0.65rem; z-index: 3; letter-spacing: 0.04em; }
        .carousel-info { text-align: center; margin-top: 1rem; min-height: 3em; transition: opacity 0.4s ease; }
        .carousel-caption { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1rem; color: var(--text-light); line-height: 1.5; }
        .carousel-dots { display: flex; gap: 0.5rem; justify-content: center; margin-top: 1rem; }
        .carousel-dot { width: 8px; height: 8px; border-radius: 50%; background: rgba(139, 92, 246, 0.2); border: none; cursor: pointer; transition: all 0.3s ease; }
        .carousel-dot.active { background: var(--purple-mid); box-shadow: 0 0 10px var(--glow-purple); transform: scale(1.2); }
        .carousel-arrows { position: absolute; top: 50%; left: 0; right: 0; transform: translateY(-50%); display: flex; justify-content: space-between; padding: 0 0.5rem; pointer-events: none; z-index: 2; }
        .carousel-arrow { pointer-events: all; width: 34px; height: 34px; border-radius: 50%; border: 1px solid var(--border-subtle); background: rgba(15, 10, 26, 0.5); backdrop-filter: blur(10px); color: var(--text-light); font-size: 0.9rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; }
        .carousel-arrow:hover { background: rgba(139, 92, 246, 0.4); }

        #screen-counter { background: radial-gradient(ellipse at 50% 50%, rgba(139, 92, 246, 0.06) 0%, var(--bg-dark) 70%); text-align: center; }
        .counter-label { font-family: 'Cormorant Garamond', serif; font-size: clamp(1.1rem, 3.5vw, 1.5rem); font-weight: 400; font-style: italic; color: var(--text-muted); margin-bottom: 0.5rem; }
        .counter-title { font-family: 'Dancing Script', cursive; font-size: clamp(1.8rem, 5vw, 2.8rem); font-weight: 600; color: var(--purple-light); margin-bottom: 2.5rem; text-shadow: 0 2px 20px var(--glow-purple); }
        .counter-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.8rem; max-width: 460px; width: 100%; }
        .counter-item { background: var(--bg-card); border-radius: 16px; padding: 1.2rem 0.5rem; border: 1px solid var(--border-subtle); position: relative; overflow: hidden; }
        .counter-item::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: linear-gradient(90deg, var(--purple-mid), var(--accent-pink)); }
        .counter-number { font-family: 'Outfit', sans-serif; font-size: clamp(1.8rem, 5vw, 2.6rem); font-weight: 600; color: var(--purple-light); line-height: 1; display: block; }
        .counter-number.tick { animation: tickAnim 0.4s ease; }
        @keyframes tickAnim { 0% { transform: translateY(-5px); opacity: 0.5; } 50% { transform: translateY(2px); } 100% { transform: translateY(0); opacity: 1; } }
        .counter-unit { font-family: 'Cormorant Garamond', serif; font-size: 0.75rem; font-weight: 400; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.1em; margin-top: 0.3rem; }
        .counter-heart { font-size: 2rem; margin-top: 2rem; animation: pulse 2s ease-in-out infinite; }

        #screen-quiz { background: radial-gradient(ellipse at 50% 30%, rgba(139, 92, 246, 0.05) 0%, var(--bg-dark) 60%); text-align: center; gap: 1.5rem; }
        .quiz-title { font-family: 'Dancing Script', cursive; font-size: clamp(1.8rem, 5vw, 2.8rem); font-weight: 600; color: var(--purple-light); }
        .quiz-subtitle { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1rem; color: var(--text-muted); margin-top: -0.5rem; }
        .quiz-card { width: 100%; max-width: 480px; background: var(--bg-card); border-radius: 20px; padding: 2rem 1.5rem; border: 1px solid var(--border-subtle); box-shadow: 0 8px 40px var(--shadow-deep); }
        .quiz-question-num { font-size: 0.7rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.15em; color: var(--purple-light); margin-bottom: 0.8rem; }
        .quiz-question-text { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; font-weight: 500; color: var(--text-white); margin-bottom: 1.5rem; line-height: 1.4; }
        .quiz-options { display: flex; flex-direction: column; gap: 0.6rem; }
        .quiz-option { font-family: 'Outfit', sans-serif; font-size: 0.9rem; padding: 0.85rem 1.1rem; border: 1px solid var(--border-subtle); border-radius: 12px; background: rgba(139, 92, 246, 0.05); color: var(--text-light); cursor: pointer; transition: all 0.3s ease; text-align: left; -webkit-tap-highlight-color: transparent; }
        @media (hover: hover) { .quiz-option:hover { border-color: var(--purple-mid); background: rgba(139, 92, 246, 0.12); color: var(--text-white); } }
        .quiz-option.correct { border-color: #6ee7b7; background: rgba(110, 231, 183, 0.1); color: #6ee7b7; }
        .quiz-option.wrong { border-color: rgba(139, 92, 246, 0.3); background: rgba(139, 92, 246, 0.05); color: var(--text-dim); }
        .quiz-option:disabled { cursor: default; pointer-events: none; }
        .quiz-feedback { margin-top: 1rem; font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1.05rem; color: var(--purple-pale); min-height: 1.5em; opacity: 0; transition: opacity 0.4s ease; }
        .quiz-feedback.show { opacity: 1; }
        .quiz-progress { display: flex; gap: 0.4rem; justify-content: center; }
        .quiz-progress-dot { width: 10px; height: 10px; border-radius: 50%; background: rgba(139, 92, 246, 0.15); transition: all 0.3s ease; }
        .quiz-progress-dot.completed { background: var(--purple-mid); box-shadow: 0 0 8px var(--glow-purple); }
        .quiz-progress-dot.active { background: var(--purple-light); transform: scale(1.3); }
        .quiz-complete { display: none; text-align: center; }
        .quiz-complete.show { display: block; }
        .quiz-score { font-family: 'Dancing Script', cursive; font-size: 2rem; color: var(--purple-light); margin-bottom: 0.5rem; }
        .quiz-score-msg { font-family: 'Cormorant Garamond', serif; font-style: italic; color: var(--text-muted); font-size: 1.1rem; }

        #screen-secret { background: radial-gradient(ellipse at 50% 50%, rgba(139, 92, 246, 0.06) 0%, var(--bg-dark) 100%); text-align: center; }
        .secret-btn { font-family: 'Cormorant Garamond', serif; font-size: 1.15rem; font-weight: 500; font-style: italic; padding: 1.3rem 2.5rem; border: 1px solid var(--border-glow); border-radius: 60px; background: var(--bg-card); color: var(--purple-pale); cursor: pointer; transition: all 0.4s ease; box-shadow: 0 4px 30px var(--shadow-purple); animation: secretPulse 3s ease-in-out infinite; }
        @keyframes secretPulse { 0%, 100% { box-shadow: 0 4px 30px var(--shadow-purple), 0 0 0 0 rgba(139, 92, 246, 0.2); } 50% { box-shadow: 0 4px 30px var(--shadow-purple), 0 0 0 20px rgba(139, 92, 246, 0); } }
        .secret-btn:hover { background: var(--bg-card-light); border-color: var(--purple-mid); transform: translateY(-3px); }
        .secret-heart { display: inline-block; margin-left: 0.3rem; animation: pulse 1.5s ease-in-out infinite; }

        .letter-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10000; display: none; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.8s ease; }
        .letter-overlay.show { display: flex; opacity: 1; }
        .letter-overlay-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(8, 6, 14, 0.95); }
        .letter-hearts-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; }
        .letter-container { position: relative; z-index: 2; width: 90%; max-width: 560px; max-height: 80vh; overflow-y: auto; background: #fefcf3; border-radius: 6px; padding: 2.5rem 2.5rem 2.5rem 3.5rem; border: 1px solid #d4c9a8; box-shadow: 0 30px 80px rgba(0, 0, 0, 0.6), 0 0 40px rgba(225, 29, 72, 0.08), 4px 4px 0 #e8dfc8; background-image: repeating-linear-gradient(transparent, transparent 31px, #e0d8c8 31px, #e0d8c8 32px); background-position-y: 8px; }
        .letter-container::before { content: ''; position: absolute; top: 0; bottom: 0; left: 2.5rem; width: 2px; background: rgba(225, 100, 100, 0.3); z-index: 1; }
        .letter-container::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, transparent 90%, rgba(0,0,0,0.03) 100%); pointer-events: none; border-radius: 6px; }
        .letter-container::-webkit-scrollbar { width: 4px; }
        .letter-container::-webkit-scrollbar-track { background: transparent; }
        .letter-container::-webkit-scrollbar-thumb { background: #c4b89a; border-radius: 2px; }
        .letter-text { font-family: 'Dancing Script', cursive; font-size: clamp(1.1rem, 3vw, 1.35rem); font-weight: 400; color: #3a2d1e; line-height: 32px; white-space: pre-wrap; position: relative; z-index: 2; }
        .letter-cursor { display: inline-block; width: 2px; height: 1.2em; background: var(--purple-mid); animation: blink 0.8s step-end infinite; vertical-align: text-bottom; margin-left: 2px; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        .letter-final-heart { text-align: center; font-size: 4rem; margin-top: 2rem; opacity: 0; transform: scale(0); transition: all 1s cubic-bezier(0.34, 1.56, 0.64, 1); position: relative; z-index: 2; }
        .letter-final-heart.show { opacity: 1; transform: scale(1); filter: drop-shadow(0 4px 15px rgba(225, 29, 72, 0.4)); animation: finalPulse 2s ease-in-out infinite; }
        .letter-close { position: sticky; top: 0; float: right; width: 32px; height: 32px; border: 1px solid #d4c9a8; border-radius: 50%; background: #fefcf3; color: #8b7a6b; font-size: 0.9rem; cursor: pointer; display: none; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 10; margin: -0.5rem -0.5rem 0.5rem 0; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .letter-close.show { display: flex; }
        .letter-close:hover { background: #f0e8d8; color: #5a4d40; border-color: #b8a990; }
        @keyframes finalPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); filter: drop-shadow(0 0 60px var(--glow-purple)); } }

        .nav-dots { position: fixed; right: 1rem; top: 50%; transform: translateY(-50%); z-index: 100; display: none; flex-direction: column; gap: 0.8rem; }
        .nav-dots.show { display: flex; }
        .nav-dot { width: 9px; height: 9px; border-radius: 50%; border: 1.5px solid var(--purple-light); background: transparent; cursor: pointer; transition: all 0.3s ease; }
        .nav-dot.active { background: var(--purple-mid); border-color: var(--purple-mid); box-shadow: 0 0 8px var(--glow-purple); }

        .transition-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-dark); z-index: 9998; opacity: 0; pointer-events: none; transition: opacity 0.6s ease; }
        .transition-overlay.active { opacity: 1; pointer-events: all; }

        @media (max-width: 480px) {
            .counter-grid { gap: 0.5rem; }
            .counter-item { padding: 1rem 0.3rem; border-radius: 12px; }
            .letter-container { padding: 2rem 1.5rem 2rem 2.5rem; }
        }
        @media (min-width: 768px) { .buttons-container { flex-direction: row; gap: 1.5rem; } }
    </style>
</head>
<body>
    <div class="floating-hearts-bg" id="floatingHearts"></div>
    <div class="transition-overlay" id="transitionOverlay"></div>
    <div class="nav-dots" id="navDots">
        <button class="nav-dot active" data-screen="screen-album"></button>
        <button class="nav-dot" data-screen="screen-counter"></button>
        <button class="nav-dot" data-screen="screen-quiz"></button>
        <button class="nav-dot" data-screen="screen-secret"></button>
    </div>

    <section class="screen" id="screen-question">
        <div class="question-content">
            <div class="question-decoration">â¤ï¸</div>
            <h1 class="question-title">Czy zostaniesz mojÄ…<br>WalentynkÄ…?</h1>
            <p class="question-subtitle">Mam dla Ciebie coÅ› wyjÄ…tkowegoâ€¦</p>
            <div class="buttons-container">
                <button class="btn-yes" id="btnYes">TAK â¤ï¸</button>
                <button class="btn-no" id="btnNo">Nieâ€¦</button>
            </div>
        </div>
    </section>

    <div id="appContainer" style="display:none;">
        <section class="screen" id="screen-album">
            <h2 class="album-title">Wirtualna kapsuÅ‚a<br>czasu</h2>
            <!-- Spotify Player -->
            <div class="music-player-yt">
                <iframe id="spotifyEmbed"
                    style="border-radius:12px; border:none; width:100%; height:152px;"
                    src=""
                    allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                    loading="lazy">
                </iframe>
            </div>
            <div class="carousel-container">
                <div class="carousel-viewport" id="carouselViewport">
                    <div class="carousel-arrows"><button class="carousel-arrow" id="prevSlide">â—€</button><button class="carousel-arrow" id="nextSlide">â–¶</button></div>
                </div>
                <div class="carousel-info" id="carouselInfo"><p class="carousel-caption" id="carouselCaption"></p></div>
                <div class="carousel-dots" id="carouselDots"></div>
            </div>
        </section>
        <section class="screen" id="screen-counter">
            <p class="counter-label">KaÅ¼da sekunda z TobÄ… to skarb</p>
            <h2 class="counter-title">JesteÅ›my razem od:</h2>
            <div class="counter-grid">
                <div class="counter-item"><span class="counter-number" id="counterDays">0</span><div class="counter-unit">Dni</div></div>
                <div class="counter-item"><span class="counter-number" id="counterHours">0</span><div class="counter-unit">Godzin</div></div>
                <div class="counter-item"><span class="counter-number" id="counterMinutes">0</span><div class="counter-unit">Minut</div></div>
                <div class="counter-item"><span class="counter-number" id="counterSeconds">0</span><div class="counter-unit">Sekund</div></div>
            </div>
            <div class="counter-heart">â¤ï¸</div>
        </section>
        <section class="screen" id="screen-quiz">
            <h2 class="quiz-title">Quiz o nas â¤ï¸</h2>
            <p class="quiz-subtitle">Ile o nas wiesz?</p>
            <div class="quiz-progress" id="quizProgress"></div>
            <div class="quiz-card" id="quizCard">
                <div class="quiz-question-num" id="quizNum"></div>
                <div class="quiz-question-text" id="quizText"></div>
                <div class="quiz-options" id="quizOptions"></div>
                <div class="quiz-feedback" id="quizFeedback"></div>
            </div>
            <div class="quiz-complete" id="quizComplete"><div class="quiz-score" id="quizScore"></div><div class="quiz-score-msg" id="quizScoreMsg"></div></div>
        </section>
        <section class="screen" id="screen-secret">
            <button class="secret-btn" id="secretBtn">Jest jeszcze coÅ›, co chcÄ™ Ci powiedzieÄ‡â€¦ <span class="secret-heart">â¤ï¸</span></button>
        </section>
    </div>

    <div class="letter-overlay" id="letterOverlay">
        <div class="letter-overlay-bg"></div>
        <div class="letter-hearts-bg" id="letterHeartsBg"></div>
        <div class="letter-container">
            <button class="letter-close" id="letterClose">âœ•</button>
            <div class="letter-text" id="letterText"></div>
            <span class="letter-cursor" id="letterCursor"></span>
            <div class="letter-final-heart" id="letterFinalHeart">â¤ï¸</div>
        </div>
    </div>

    <script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• KONFIGURACJA â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const RELATIONSHIP_START = new Date('2025-05-21T18:30:32');

    const PHOTOS = [
        { src: 'wakacje.JPG', caption: 'Pierwsze wspÃ³lne wakacje za garnicÄ…', date: '12.08.2025' },
        { src: 'zachod.JPG', caption: 'Pierwsze wspÃ³lne rowerki i RegietÃ³w ğŸŒ…', date: '29.07.2025' },
        { src: 'lazienki.JPG', caption: 'Nasza druga miesiÄ™cznica', date: '21.07.2025' },
        { src: 'swieta.JPEG', caption: 'Razem na Å›wiÄ™ta â€” najpiÄ™kniejszy prezent ğŸ„', date: '01.01.2026' },
        { src: 'dzien.JPG', caption: 'KaÅ¼dy dzieÅ„ z TobÄ… jest wyjÄ…tkowy ğŸ’«', date: '17.10.2025' },
    ];

    const QUIZ_QUESTIONS = [
        { question: 'Gdzie byliÅ›my na pierwszej randce?', options: ['W kawiarni', 'W parku', 'W kinie', 'W restauracji sushi'], correctIndex: 3, feedback: 'DokÅ‚adnie! Sushi na pierwszej randce â€” idealnie ğŸ£' },
        { question: 'Kto pierwszy powiedziaÅ‚ â€kocham CiÄ™"?', options: ['Ty', 'Ja', 'CiÄ™Å¼ko powiedzieÄ‡', 'Nikt jeszcze nie powiedziaÅ‚ ğŸ˜œ'], correctIndex: 2, feedback: 'Bo niektÃ³re rzeczy po prostu siÄ™ czujeâ€¦ â¤ï¸' },
        { question: 'Jaki moment z TobÄ… chciaÅ‚bym przeÅ¼yÄ‡ jeszcze raz?', options: ['PierwszÄ… randkÄ™', 'Pierwszy pocaÅ‚unek', 'KaÅ¼dy dzieÅ„ od nowa', 'WspÃ³lne wakacje'], correctIndex: 2, feedback: 'KaÅ¼dy jeden dzieÅ„ z TobÄ… jest wart powtÃ³rzenia â¤ï¸' },
        { question: 'Gdy myÅ›lÄ™ o naszej przyszÅ‚oÅ›ci, widzÄ™â€¦', options: ['Wielkie podrÃ³Å¼e', 'Dom peÅ‚en Å›miechu', 'Nas obok siebie mimo upÅ‚ywu lat', 'Wszystko powyÅ¼sze'], correctIndex: 3, feedback: 'Bo z TobÄ… chcÄ™ wszystko â€” podrÃ³Å¼e, Å›miech i caÅ‚e Å¼ycie â¤ï¸' },
        { question: 'Co czujÄ™, gdy na mnie patrzysz?', options: ['Motylki w brzuchu', 'SpokÃ³j', 'Å»e jestem w domu', 'Å»e czas siÄ™ zatrzymuje'], correctIndex: 2, feedback: 'Przy Tobie jestem u siebieâ€¦ ğŸ â¤ï¸' },
        { question: 'Gdybym miaÅ‚ powiedzieÄ‡ Ci teraz jednÄ… najwaÅ¼niejszÄ… rzecz, byÅ‚oby to:', options: ['JesteÅ› piÄ™kna', 'DziÄ™kujÄ™ za kaÅ¼dy dzieÅ„', 'ChcÄ™ iÅ›Ä‡ przez Å¼ycie razem z TobÄ…', 'Kocham CiÄ™'], correctIndex: 2, feedback: 'I nic tego nie zmieniâ€¦ â¤ï¸' }
    ];

    const LOVE_LETTER = "Kochanie,\n\nOd dnia, w ktÃ³rym CiÄ™ poznaÅ‚em, Å›wiat zaczÄ…Å‚ mieÄ‡ wiÄ™cej kolorÃ³w. TwÃ³j uÅ›miech sprawia, Å¼e nawet najtrudniejsze dni stajÄ… siÄ™ piÄ™kne, a Twoje piÄ™kne oczy sprawiajÄ…, Å¼e nie mam ochoty patrzeÄ‡ na Å¼adne inne.\n\nKaÅ¼da chwila z TobÄ… od wspÃ³lnych nocnych przejaÅ¼dÅ¼ek po ciche wieczory na Discordzie, kiedy razem oglÄ…damy Netflixa jest mojÄ… ulubionÄ… czÄ™Å›ciÄ… dnia.\n\nKocham sposÃ³b, w jaki siÄ™ Å›miejesz. Kocham Twoje oczy, kiedy opowiadasz mi o swoich marzeniach i o tym, jak minÄ…Å‚ Ci dzieÅ„. Kocham to, kim jesteÅ› i kim stajÄ™ siÄ™ przy Tobie.\n\nI dlatego dziÅ› chcÄ™ zapytaÄ‡ CiÄ™ jeszcze raz, w wyjÄ…tkowy sposÃ³bâ€¦\n\nCzy zostaniesz mojÄ… WalentynkÄ…? â¤ï¸\n\nNa zawsze TwÃ³j,\nJaÅ›";

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• FLOATING HEARTS + SPARKLES â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function createFloatingHearts() {
        const c = document.getElementById('floatingHearts');
        const h = ['â¤ï¸','â¤ï¸','ğŸ’—','ğŸ¤','ğŸ’•','ğŸ©·'];
        for (let i = 0; i < 15; i++) {
            const s = document.createElement('span');
            s.className = 'floating-heart';
            s.textContent = h[Math.floor(Math.random() * h.length)];
            s.style.left = Math.random()*100+'%';
            s.style.fontSize = (0.7+Math.random()*1.3)+'rem';
            s.style.animationDuration = (8+Math.random()*14)+'s';
            s.style.animationDelay = (Math.random()*12)+'s';
            c.appendChild(s);
        }
        for (let i = 0; i < 10; i++) {
            const sp = document.createElement('span');
            sp.className = 'sparkle';
            sp.style.left = Math.random()*100+'%';
            const sz = (2+Math.random()*3)+'px';
            sp.style.width = sz; sp.style.height = sz;
            sp.style.animationDuration = (6+Math.random()*10)+'s';
            sp.style.animationDelay = (Math.random()*8)+'s';
            sp.style.background = Math.random()>0.5?'var(--purple-glow)':'var(--accent-pink)';
            c.appendChild(sp);
        }
    }
    createFloatingHearts();

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• QUESTION LOGIC â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const btnYes = document.getElementById('btnYes'), btnNo = document.getElementById('btnNo');
    let noClickCount = 0;
    const noMsgs = ['Nieâ€¦','Na pewno? ğŸ¥º','PomyÅ›l jeszczeâ€¦','ProszÄ™? ğŸ¥¹','Aleâ€¦ â¤ï¸','No dalej!','ğŸ˜˜','ğŸ¥º'];
    function shrinkNo() {
        noClickCount++;
        if (noClickCount < noMsgs.length) btnNo.textContent = noMsgs[noClickCount];
        const shrink = Math.max(0, 1 - noClickCount * 0.15);
        const fade = Math.max(0, 1 - noClickCount * 0.14);
        const blur = noClickCount * 1.2;
        btnNo.style.transform = 'scale('+shrink+')';
        btnNo.style.opacity = fade;
        btnNo.style.filter = 'blur('+blur+'px)';
        btnNo.style.transition = 'all 0.4s cubic-bezier(.34,1.56,.64,1)';
        btnYes.style.transform = 'scale('+(1+noClickCount*0.1)+')';
        btnYes.style.transition = 'transform 0.4s cubic-bezier(.34,1.56,.64,1)';
        if (noClickCount >= 6) {
            btnNo.style.pointerEvents = 'none';
            setTimeout(() => { btnNo.style.display = 'none'; }, 400);
        }
    }
    btnNo.addEventListener('click', shrinkNo);
    btnYes.addEventListener('click', () => { btnYes.disabled=true; btnNo.style.display='none'; preloadMusic(); triggerExplosion(); });

    function triggerExplosion() {
        const ex = document.createElement('div'); ex.className='heart-explosion'; document.body.appendChild(ex);
        const hs = ['â¤ï¸','ğŸ’—','ğŸ¤','â¤ï¸','ğŸ©·','ğŸ’•','â¤ï¸'];
        const cx=innerWidth/2, cy=innerHeight/2;
        for (let i=0;i<30;i++) {
            const h=document.createElement('span'); h.className='explosion-heart';
            h.textContent=hs[Math.floor(Math.random()*hs.length)];
            h.style.left=cx+'px'; h.style.top=cy+'px'; h.style.fontSize=(1+Math.random()*2.5)+'rem';
            const a=(Math.PI*2*i)/30+(Math.random()-0.5)*0.5, d=150+Math.random()*400;
            h.style.setProperty('--tx',Math.cos(a)*d+'px'); h.style.setProperty('--ty',Math.sin(a)*d+'px');
            h.style.setProperty('--rot',(Math.random()*720-360)+'deg'); h.style.animationDelay=(Math.random()*0.5)+'s';
            ex.appendChild(h);
        }
        const mh=document.createElement('div'); mh.className='merge-heart'; mh.textContent='â¤ï¸'; document.body.appendChild(mh);
        setTimeout(()=>{
            const ov=document.getElementById('transitionOverlay'); ov.classList.add('active');
            setTimeout(()=>{
                ex.remove(); mh.remove();
                document.getElementById('screen-question').style.display='none';
                document.getElementById('appContainer').style.display='block';
                document.getElementById('navDots').classList.add('show');
                startMusic(); startCounter();
                setTimeout(()=>ov.classList.remove('active'),300);
            },800);
        },3500);
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• MUSIC (Spotify embed) â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const SPOTIFY_TRACK_ID = '493ORSeExHylEYu7tolox9';
    function startMusic() {
        // iframe already loaded on click â€” nothing to do
    }
    function preloadMusic() {
        const iframe = document.getElementById('spotifyEmbed');
        iframe.src = 'https://open.spotify.com/embed/track/' + SPOTIFY_TRACK_ID + '?utm_source=generator&theme=0&autoplay=1';
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• CAROUSEL â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const vp=document.getElementById('carouselViewport'),dots=document.getElementById('carouselDots'),cap=document.getElementById('carouselCaption');
    let cs=0;
    PHOTOS.forEach((p,i)=>{
        const sl=document.createElement('div');sl.className='carousel-slide'+(i===0?' active':'');
        if(p.src){const img=document.createElement('img');img.src=p.src;img.alt=p.caption;img.loading='lazy';sl.appendChild(img);}
        else{const ph=document.createElement('div');ph.className='carousel-placeholder';const icons=['ğŸ“¸','ğŸŒ…','ğŸ’«','ğŸ„','ğŸŒŸ'];ph.innerHTML='<span class="carousel-placeholder-icon">'+icons[i%icons.length]+'</span><span class="carousel-placeholder-text">Wstaw zdjÄ™cie '+(i+1)+'</span>';sl.appendChild(ph);}
        if(p.date){const d=document.createElement('div');d.className='carousel-date';d.textContent=p.date;sl.appendChild(d);}
        vp.insertBefore(sl,vp.querySelector('.carousel-arrows'));
        const dot=document.createElement('button');dot.className='carousel-dot'+(i===0?' active':'');dot.addEventListener('click',()=>goTo(i));dots.appendChild(dot);
    });
    cap.textContent=PHOTOS[0].caption;
    function goTo(idx){
        const sls=vp.querySelectorAll('.carousel-slide'),ds=dots.querySelectorAll('.carousel-dot');
        sls[cs].classList.remove('active');ds[cs].classList.remove('active');
        cs=(idx+PHOTOS.length)%PHOTOS.length;
        sls[cs].classList.add('active');ds[cs].classList.add('active');
        const info=document.getElementById('carouselInfo');info.style.opacity='0';
        setTimeout(()=>{cap.textContent=PHOTOS[cs].caption;info.style.opacity='1';},300);
    }
    document.getElementById('nextSlide').addEventListener('click',()=>goTo(cs+1));
    document.getElementById('prevSlide').addEventListener('click',()=>goTo(cs-1));
    setInterval(()=>goTo(cs+1),6000);
    let tsx=0;vp.addEventListener('touchstart',(e)=>{tsx=e.touches[0].clientX;});
    vp.addEventListener('touchend',(e)=>{const d=tsx-e.changedTouches[0].clientX;if(Math.abs(d)>50)d>0?goTo(cs+1):goTo(cs-1);});

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• COUNTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const cD=document.getElementById('counterDays'),cH=document.getElementById('counterHours'),cM=document.getElementById('counterMinutes'),cS=document.getElementById('counterSeconds');
    function startCounter(){function u(){const d=new Date()-RELATIONSHIP_START;upd(cD,Math.floor(d/864e5));upd(cH,Math.floor((d%864e5)/36e5));upd(cM,Math.floor((d%36e5)/6e4));upd(cS,Math.floor((d%6e4)/1e3));}function upd(e,v){const n=String(v);if(e.textContent!==n){e.textContent=n;e.classList.remove('tick');void e.offsetWidth;e.classList.add('tick');}}u();setInterval(u,1000);}

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• QUIZ â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    let qi=0,qs=0;
    function initQuiz(){const pc=document.getElementById('quizProgress');pc.innerHTML='';QUIZ_QUESTIONS.forEach((_,i)=>{const d=document.createElement('div');d.className='quiz-progress-dot'+(i===0?' active':'');pc.appendChild(d);});showQ(0);}
    function showQ(idx){
        if(idx>=QUIZ_QUESTIONS.length){showQC();return;}
        const q=QUIZ_QUESTIONS[idx];
        document.getElementById('quizNum').textContent='Pytanie '+(idx+1)+' z '+QUIZ_QUESTIONS.length;
        document.getElementById('quizText').textContent=q.question;
        const oe=document.getElementById('quizOptions');oe.innerHTML='';
        const fb=document.getElementById('quizFeedback');fb.classList.remove('show');fb.textContent='';
        q.options.forEach((o,i)=>{const b=document.createElement('button');b.className='quiz-option';b.textContent=o;b.addEventListener('click',()=>handleA(i,q,oe,fb));oe.appendChild(b);});
        document.querySelectorAll('.quiz-progress-dot').forEach((d,i)=>d.classList.toggle('active',i===idx));
    }
    function handleA(sel,q,oe,fb){
        const bs=oe.querySelectorAll('.quiz-option');bs.forEach(b=>b.disabled=true);
        if(sel===q.correctIndex){bs[sel].classList.add('correct');fb.textContent=q.feedback;qs++;miniHB(bs[sel]);}
        else{bs[sel].classList.add('wrong');bs[q.correctIndex].classList.add('correct');fb.textContent='Prawie! Ale to nic â€” waÅ¼ne, Å¼e jesteÅ›my razem â¤ï¸';}
        fb.classList.add('show');document.querySelectorAll('.quiz-progress-dot')[qi].classList.add('completed');
        setTimeout(()=>{qi++;showQ(qi);},2200);
    }
    function miniHB(el){const r=el.getBoundingClientRect();const hs=['â¤ï¸','ğŸ’Ÿ','ğŸ¤'];for(let i=0;i<8;i++){const h=document.createElement('span');h.textContent=hs[Math.floor(Math.random()*hs.length)];h.style.cssText='position:fixed;left:'+(r.left+r.width/2)+'px;top:'+(r.top+r.height/2)+'px;font-size:'+(0.8+Math.random()*0.8)+'rem;pointer-events:none;z-index:9999;transition:all 1.2s ease-out;opacity:1;';document.body.appendChild(h);const a=(Math.PI*2*i)/8,d=40+Math.random()*60;requestAnimationFrame(()=>{h.style.transform='translate('+Math.cos(a)*d+'px,'+(Math.sin(a)*d-30)+'px)';h.style.opacity='0';});setTimeout(()=>h.remove(),1300);}}
    function showQC(){document.getElementById('quizCard').style.display='none';const c=document.getElementById('quizComplete');c.classList.add('show');document.getElementById('quizScore').textContent=qs+' / '+QUIZ_QUESTIONS.length+' â¤ï¸';const ms=['NiewaÅ¼ne ile punktÃ³w â€” waÅ¼ne, Å¼e jesteÅ›my razem! â¤ï¸','Znasz nas caÅ‚kiem nieÅºle! ğŸ¥°','Åšwietnie! JesteÅ› niesamowita! â¤ï¸','Prawie perfekcyjnie!','Wow, znasz mnie lepiej niÅ¼ ja sam siebie!','Idealny wynik â€” jesteÅ›my idealnÄ… parÄ…! â¤ï¸'];document.getElementById('quizScoreMsg').textContent=ms[Math.min(qs,ms.length-1)];}
    initQuiz();

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• LOVE LETTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    let letterOpened = false;
    document.getElementById('secretBtn').addEventListener('click',()=>{
        const lo=document.getElementById('letterOverlay');lo.style.display='flex';requestAnimationFrame(()=>lo.classList.add('show'));
        document.querySelectorAll('#floatingHearts > *').forEach(el=>el.style.animationPlayState='paused');
        if(!letterOpened){
            letterOpened=true;
            const c=document.getElementById('letterHeartsBg');const hs=['â¤ï¸','ğŸ’—','ğŸ¤','ğŸ©·'];
            for(let i=0;i<8;i++){const h=document.createElement('span');h.className='floating-heart';h.textContent=hs[Math.floor(Math.random()*hs.length)];h.style.left=Math.random()*100+'%';h.style.fontSize=(0.6+Math.random())+'rem';h.style.animationDuration=(10+Math.random()*15)+'s';h.style.animationDelay=(Math.random()*5)+'s';c.appendChild(h);}
            setTimeout(()=>{let i=0;const el=document.getElementById('letterText');el.textContent='';(function t(){if(i<LOVE_LETTER.length){el.textContent+=LOVE_LETTER.charAt(i++);el.parentElement.scrollTop=el.parentElement.scrollHeight;setTimeout(t,45);}else{document.getElementById('letterCursor').style.display='none';document.getElementById('letterFinalHeart').classList.add('show');document.getElementById('letterClose').classList.add('show');}})();},800);
        }
    });
    document.getElementById('letterClose').addEventListener('click',()=>{
        const lo=document.getElementById('letterOverlay');lo.classList.remove('show');
        document.querySelectorAll('#floatingHearts > *').forEach(el=>el.style.animationPlayState='running');
        setTimeout(()=>{lo.style.display='none';},800);
    });

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV DOTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const navDots=document.querySelectorAll('.nav-dot');
    navDots.forEach(d=>d.addEventListener('click',()=>document.getElementById(d.dataset.screen).scrollIntoView({behavior:'smooth'})));
    const scrs=['screen-album','screen-counter','screen-quiz','screen-secret'];
    const obs=new IntersectionObserver((es)=>{es.forEach(e=>{if(e.isIntersecting)navDots.forEach(d=>d.classList.toggle('active',d.dataset.screen===e.target.id));});},{threshold:0.5});
    scrs.forEach(id=>{const el=document.getElementById(id);if(el)obs.observe(el);});
    </script>
</body>
</html>